<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>HTTPS解析 | Blog</title><meta name="author" content="偏爱吖"><meta name="copyright" content="偏爱吖"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="HTTP协议 定义与基本功能  HTTP 是互联网上信息传递与交互的基础协议之一，它规定了客户端（如浏览器）和服务器之间如何进行数据交换。其核心功能是让客户端能够向服务器发送请求，获取服务器上存储的各种资源，如网页、图片、视频、文件等，同时服务器能够根据客户端的请求，将相应的资源返回给客户端。   工作原理  请求 - 响应模型 客户端发起一个 HTTP 请求，该请求包含了请求方法（如 GET、P">
<meta property="og:type" content="article">
<meta property="og:title" content="HTTPS解析">
<meta property="og:url" content="https://test.atomgit.net/blog/blogs/HTTPS%E8%A7%A3%E6%9E%90.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="HTTP协议 定义与基本功能  HTTP 是互联网上信息传递与交互的基础协议之一，它规定了客户端（如浏览器）和服务器之间如何进行数据交换。其核心功能是让客户端能够向服务器发送请求，获取服务器上存储的各种资源，如网页、图片、视频、文件等，同时服务器能够根据客户端的请求，将相应的资源返回给客户端。   工作原理  请求 - 响应模型 客户端发起一个 HTTP 请求，该请求包含了请求方法（如 GET、P">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://test.atomgit.net/blog/images/tx.png">
<meta property="article:published_time" content="2025-03-13T05:44:37.000Z">
<meta property="article:modified_time" content="2025-03-16T09:42:19.076Z">
<meta property="article:author" content="偏爱吖">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://test.atomgit.net/blog/images/tx.png"><link rel="shortcut icon" href="/blog/images/diary.png"><link rel="canonical" href="https://test.atomgit.net/blog/blogs/HTTPS%E8%A7%A3%E6%9E%90.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"/blog/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'HTTPS解析',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-03-16 17:42:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style> @media (max-width:900px) {#aside-content{display:none}#live2d-widget{display:none}}</style><style>.avatar-img img{transition:none} .avatar-img{border-radius:5px}</style><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/blog/images/tx.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/blog/archives/"><div class="headline">Articles</div><div class="length-num">18</div></a><a href="/blog/tags/"><div class="headline">Tags</div><div class="length-num">6</div></a><a href="/blog/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/categories/life"><i class="fa-fw fas fa-pen"></i><span> 日志</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/blog/images/default_cover.jpg')"><nav id="nav"><span id="blog-info"><a href="/blog/" title="Blog"><span class="site-name">Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/categories/life"><i class="fa-fw fas fa-pen"></i><span> 日志</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">HTTPS解析</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-03-13T05:44:37.000Z" title="Created 2025-03-13 13:44:37">2025-03-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-03-16T09:42:19.076Z" title="Updated 2025-03-16 17:42:19">2025-03-16</time></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h3><ul>
<li><p>定义与基本功能</p>
<ul>
<li>HTTP 是互联网上信息传递与交互的基础协议之一，它规定了客户端（如浏览器）和服务器之间如何进行数据交换。其核心功能是让客户端能够向服务器发送请求，获取服务器上存储的各种资源，如网页、图片、视频、文件等，同时服务器能够根据客户端的请求，将相应的资源返回给客户端。</li>
</ul>
</li>
<li><p>工作原理</p>
<ul>
<li><strong>请求 - 响应模型</strong> 客户端发起一个 HTTP 请求，该请求包含了请求方法（如 GET、POST 等）、请求头（包含一些关于请求的附加信息，如客户端类型、所请求资源的类型等）以及请求体（如果有的话，通常用于 POST 请求来传递数据）。服务器接收到请求后，会根据请求的内容进行处理，并返回一个 HTTP 响应。响应也包含响应头（提供关于响应的信息，如状态码、内容类型等）和响应体（即客户端所请求的资源内容）。</li>
<li><strong>无状态性</strong> HTTP 是无状态协议，意味着每个请求都是独立的，服务器不会在不同请求之间记住客户端的状态信息。这使得 HTTP 协议简单且易于实现，但在某些需要跟踪用户状态的应用场景中，就需要通过其他技术（如 Cookie、Session 等）来弥补这一不足。</li>
</ul>
</li>
<li><p>常用方法</p>
<ul>
<li><p><strong>GET方法</strong>用于从服务器获取资源，通常用于获取网页、查询数据等操作。请求的数据会附加在 URL 后面，以问号分隔，例如<a target="_blank" rel="noopener" href="https://example.com/api/data?param1=value1&param2=value2%E3%80%82">https://example.com/api/data?param1=value1&amp;param2=value2。</a></p>
</li>
<li><p><strong>POST方法</strong>用于向服务器提交数据，比如用户登录、注册时提交表单数据，或者上传文件等操作。数据包含在请求体中，而不是 URL 中，这样可以传输更大的数据量，并且相对 GET 方法更加安全，因为数据不会暴露在 URL 中。</p>
</li>
</ul>
<p>  http请求过程<br>  <img src="https://thumbsnap.com/i/tu9UEN7D.jpg"></p>
</li>
</ul>
<h3 id="http-请求方式"><a href="#http-请求方式" class="headerlink" title="http 请求方式"></a>http 请求方式</h3><ul>
<li><strong>GET</strong>：最常用的请求方式之一，用于从服务器获取资源。它将参数包含在 URL 中，以键值对的形式拼接在 URL 后面，如 <a target="_blank" rel="noopener" href="https://example.com/api/users?id=123%E3%80%82GET">https://example.com/api/users?id=123。GET</a> 请求的参数有长度限制（不同浏览器和服务器可能有不同的限制，一般在 2048 个字符左右），并且请求的参数会显示在浏览器的地址栏中，因此不适合传输敏感信息。GET 请求是幂等的，即多次执行相同的 GET 请求，对服务器资源的影响是相同的，不会产生额外的副作用。例如，多次获取一篇文章的内容，结果都是相同的文章数据。</li>
<li><strong>POST</strong>：用于向服务器提交数据，以创建新的资源。参数通常放在请求体中，而不是 URL 里。例如，在用户注册时，将用户的注册信息（如用户名、密码、邮箱等）通过 POST 请求发送到服务器。POST 请求没有固定的参数长度限制，适合传输大量数据。与 GET 不同，POST 不是幂等的，因为每次执行 POST 请求，都会在服务器上创建新的资源，多次提交可能会导致多个相同资源的产生，例如多次提交注册表单可能会创建多个用户账号。</li>
</ul>
<h4 id="post请求格式"><a href="#post请求格式" class="headerlink" title="post请求格式"></a>post请求格式</h4><ul>
<li>请求参数<br>概念：POST 请求的参数通常是指发送给服务器用于处理请求的相关数据。与 GET 请求不同，POST 请求的参数一般不直接显示在 URL 中，而是放在请求体里（但也存在将参数放在 URL 中的情况，不过不常见）。<br>用途：例如在用户登录时，用户名和密码作为参数通过 POST 请求发送给服务器，服务器根据这些参数来验证用户身份；或者在提交表单数据（如注册信息、订单详情等）时，使用 POST 请求传递参数。<br>形式：POST 请求参数常见的格式有 URL 编码格式（application&#x2F;x-www-form-urlencoded）和 JSON 格式（application&#x2F;json）。在 URL 编码格式中，参数以键值对形式排列，并用 &amp; 符号连接，如 username&#x3D;John&amp;password&#x3D;123456；而 JSON 格式则是将参数组织成 JSON 对象的形式，例如 {“username”: “John”, “password”: “123456”}。</li>
<li>请求头<br>概念：请求头是 HTTP 请求的一部分，它包含了关于请求的元数据信息，用于向服务器传达请求的相关属性、客户端的能力以及其他一些控制信息等。<br>常见请求头字段<br>Content-Type：用于指示请求体中数据的媒体类型。如前面提到的，当使用 URL 编码格式时，值为 application&#x2F;x-www-form-urlencoded；使用 JSON 格式时，值为 application&#x2F;json；如果是上传文件，通常是 multipart&#x2F;form-data。<br>User-Agent：包含了发出请求的客户端应用程序（如浏览器名称和版本、操作系统等）的信息，服务器可以根据这些信息来提供不同的响应或进行一些统计分析。<br>Accept：告诉服务器客户端能够接受的响应内容类型，如 Accept: text&#x2F;html 表示客户端希望接收 HTML 格式的响应。<br>Authorization：用于身份验证，包含了客户端的认证信息（如令牌、用户名和密码等），服务器通过验证该字段来确认客户端的权限。</li>
<li>请求体<br>请求体（Request Body）<br>概念：请求体是 POST 请求中承载实际数据的部分，它包含了客户端要发送给服务器的具体内容，根据 Content-Type 字段指定的格式进行组织。<br>数据类型：请求体中的数据可以是文本、JSON 对象、XML 文档、表单数据或者二进制数据（如上传文件）等。例如，在使用 AJAX 发送 POST 请求提交用户评论时，请求体可能是一段文本内容；而在与 RESTful API 交互时，请求体可能是一个 JSON 格式的对象，描述了要创建或更新的资源信息。<br>作用：服务器会根据请求体中的数据进行相应的处理，如存储数据到数据库、更新资源等操作。例如，当用户在网页上提交一篇文章时，文章的标题、内容等信息会被包含在请求体中发送到服务器，服务器再将这些信息保存到服务器的存储系统中。</li>
</ul>
<h4 id="post请求示例"><a href="#post请求示例" class="headerlink" title="post请求示例"></a>post请求示例</h4><ol>
<li><p>使用 fetch API</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>POST Request Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 定义请求的 URL</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> url = <span class="string">&#x27;http://example.com/api/login&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 定义请求体数据，以 JavaScript 对象形式表示</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> data = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&quot;username&quot;</span>: <span class="string">&quot;test_user&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&quot;password&quot;</span>: <span class="string">&quot;test_password&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 设置请求选项</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> options = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">headers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data)</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 发送 POST 请求</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">fetch</span>(url, options)</span></span><br><span class="line"><span class="language-javascript">        .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">json</span>())</span></span><br><span class="line"><span class="language-javascript">        .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Response Data:&#x27;</span>, data);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Error:&#x27;</span>, error);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 XMLHttpRequest  </p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">title</span>&gt;</span>XMLHttpRequest POST Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> url = <span class="string">&#x27;https://example.com/api&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> params = &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">username</span>: <span class="string">&#x27;JohnDoe&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">age</span>: <span class="number">30</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> jsonParams = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(params);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span></span><br><span class="line"><span class="language-javascript">                        xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, url, <span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">                        xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/json&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>);</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        xhr.<span class="title function_">send</span>(jsonParams);</span></span><br><span class="line"><span class="language-javascript">                    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>表单提交</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Form POST Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;https://example.com/api&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>Username:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;JohnDoe&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;age&quot;</span>&gt;</span>Age:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">id</span>=<span class="string">&quot;age&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;30&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="post请求体格式"><a href="#post请求体格式" class="headerlink" title="post请求体格式"></a>post请求体格式</h4><ul>
<li><p>JSON<br>说明：JavaScript Object Notation 的缩写，是一种轻量级的数据交换格式，易于阅读和编写，也方便机器解析和生成。<br>场景：在前后端分离的 Web 应用程序中广泛使用，尤其是在使用 RESTful API 进行数据交互时。例如，当前端向服务器提交用户注册信息、登录信息、复杂的表单数据，或者请求服务器返回特定格式的结构化数据时，通常会使用 JSON 格式。因为它能够很好地表示复杂的对象结构，并且与 JavaScript 语言原生支持，便于在前端进行处理。</p>
<ul>
<li>json格式  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> jsonData = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>表单数据（Form Data）<br>说明：分为两种类型，一种是 <code>application/x-www-form-urlencoded</code>，另一种是 <code>multipart/form - data</code>。<strong>application&#x2F;x-www - form - urlencoded 格式会将表单数据编码为键值对，通过 &amp; 符号分隔，常用于提交简单的文本数据</strong>。<strong>multipart&#x2F;form - data 则用于上传文件或包含非文本数据的表单，它会为每个表单字段和文件创建一个独立的部分，并在请求体中进行分隔</strong>。<br>场景：当用户通过 HTML 表单提交数据，如注册、登录、搜索等操作时，通常会使用 application&#x2F;x - www - form - urlencoded 格式。而在文件上传的场景，比如用户上传头像、文档、图片等文件到服务器时，就需要使用 multipart&#x2F;form - data 格式。</p>
<ul>
<li>application&#x2F;x-www-form-urlencoded  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name=John&amp;age=30</span><br></pre></td></tr></table></figure></li>
<li>multipart&#x2F;form - data格式  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> formData = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;John&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;photo&#x27;</span>, fileInput.<span class="property">files</span>[<span class="number">0</span>]); </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>XML<br>说明：Extensible Markup Language 的缩写，是一种标记语言，用于存储和传输数据。它具有严格的语法规则，并且可以自定义标签，使得数据具有良好的结构性和可扩展性。<br>场景：在一些传统的企业级应用、Web 服务（如 SOAP 协议）以及与某些特定的 XML - based 系统进行交互时，XML 格式较为常用。例如，银行系统之间的数据交互、政府机构的电子政务系统等，可能会因为历史原因或对数据结构的严格要求而使用 XML 格式来确保数据的准确性和完整性。</p>
</li>
<li><p>纯文本（Plain Text）<br>说明：简单的文本内容，没有特定的格式或结构，通常用于传输简单的文本信息，如日志文件、简单的消息等。</p>
</li>
</ul>
<h4 id="http不安全性"><a href="#http不安全性" class="headerlink" title="http不安全性"></a>http不安全性</h4><ul>
<li>明文传输</li>
<li>数据完整性无法保证</li>
<li>缺乏身份验证机制</li>
<li>易受中间人攻击：</li>
</ul>
<h3 id="HTTPS协议"><a href="#HTTPS协议" class="headerlink" title="HTTPS协议"></a>HTTPS协议</h3><p>HTTPS 即超文本传输安全协议，它是在 HTTP 基础上通过加入 SSL&#x2F;TLS 协议来实现安全通信的协议。</p>
<ul>
<li>SSL（安全套接字层）&#x2F;TLS （传输层安全协议）<ul>
<li>加密：通过对称加密算法对传输的数据进行加密，使数据在网络上以密文形式传输，防止数据被窃取或监听。  </li>
<li>身份认证：利用数字证书来验证通信双方的身份，确保客户端和服务器 能够确认对方的身份是真实可靠的，防止中间人攻击。        </li>
<li>数据完整性保护：使用消息认证码或哈希函数，对数据进行校验，确保数据在传输过程中没有被篡改或损坏。</li>
</ul>
</li>
</ul>
<blockquote>
<p>除了HTTPS协议外，TLS可以被应用与任何基于TCP&#x2F;IP协议的上层协议的或应用程序，如SFTP协议，SMTP协议，数据库间通讯加密等。</p>
</blockquote>
<h4 id="对称加密"><a href="#对称加密" class="headerlink" title="对称加密"></a>对称加密</h4><p>对称加密使用相同的密钥对数据进行加密和解密操作。也就是说，加密方使用某个密钥将明文数据转换为密文，而解密方使用同一个密钥将密文还原为明文。</p>
<ul>
<li><p><strong>原理</strong>  </p>
<ul>
<li>发送方将明文数据按照一定的加密算法，在密钥的作用下进行变换，生成密文。接收方收到密文后，使用相同的密钥和对应的解密算法对密文进行处理，还原出原始的明文。例如，常见的对称加密算法 AES（高级加密标准），它将明文分成固定长度的块，然后在密钥的控制下对每个块进行一系列复杂的变换操作，实现加密；解密时则进行相反的操作。</li>
</ul>
</li>
<li><p><strong>特点</strong></p>
<ul>
<li>加密速度快：由于使用同一密钥进行加密和解密，计算量相对较小，所以加密和解密的速度都比较快，适合对大量数据进行加密处理。  </li>
<li>密钥管理复杂：通信双方必须共享相同的密钥，并且要确保密钥的安全性。如果密钥泄露，那么加密的数据就会失去保密性。而且当通信对象较多时，密钥的分发和管理会变得困难。<br>对称加密在数据加密领域有着广泛的应用，常被用于对文件、数据库中的敏感数据等进行加密保护，以确保数据的保密性。</li>
</ul>
<p>  对称加密过程<br>  <img src="https://thumbsnap.com/i/YreU5sEG.png"></p>
<p>  对称加密缺点<br>  <img src="https://thumbsnap.com/i/5oPCHeMZ.png"></p>
</li>
</ul>
<h4 id="非对称加密"><a href="#非对称加密" class="headerlink" title="非对称加密"></a>非对称加密</h4><p>非对称加密使用一对密钥，即公钥和私钥。公钥可以公开，用于加密数据；私钥则由用户自己保密，用于解密数据。用公钥加密的数据只能用对应的私钥解密，反之亦然。  </p>
<ul>
<li><p><strong>原理</strong></p>
<ul>
<li>假设用户 A 要向用户 B 发送加密信息。首先，B 生成一对密钥（公钥和私钥），并将公钥公开给 A。A 使用 B 的公钥对要发送的信息进行加密，然后将密文发送给 B。B 收到密文后，使用自己的私钥进行解密，从而得到原始信息。</li>
</ul>
</li>
<li><p><strong>特点</strong>  </p>
<ul>
<li>安全性高：公钥公开，私钥保密，即使攻击者获取了公钥和密文，也难以通过公钥推算出私钥来解密数据，安全性较高。</li>
</ul>
<ul>
<li>密钥管理方便：不需要像对称加密那样在通信双方之间共享密钥，只需要保护好自己的私钥，公钥可以随意公开，便于密钥的管理和分发。</li>
<li>加密速度慢：相比对称加密，非对称加密的计算量较大，加密和解密速度较慢，所以通常不适合对大量数据进行加密。</li>
</ul>
<p>  非对称加密过程<br>  <img src="https://thumbsnap.com/i/pkuNhWuW.png"></p>
<p>  非对称加密缺点<br>  <img src="https://thumbsnap.com/i/UwCvRC9W.png"></p>
<blockquote>
<p>公钥加密 私钥解密  不可逆<br>公钥获取的时候可能被篡改成其他的公钥</p>
</blockquote>
</li>
</ul>
<h4 id="数字证书"><a href="#数字证书" class="headerlink" title="数字证书"></a>数字证书</h4><p>数字证书是由权威的证书颁发机构（CA）颁发的，包含了证书持有者的身份信息、公钥以及 CA 的数字签名等内容的电子文件。它的主要作用是在网络通信中，通过验证数字证书的真实性和有效性，来确认通信双方的身份，保证数据传输的安全性和完整性，防止中间人攻击和假冒身份等安全问题。</p>
<ul>
<li><p><strong>内容</strong></p>
<ul>
<li>证书持有者信息：包括证书持有者的名称、组织信息、电子邮件地址等，用于标识证书的所有者。</li>
<li>公钥：证书持有者的公钥，用于加密数据和验证数字签名。</li>
<li>证书颁发机构信息：包含颁发证书的 CA 的名称、标识等信息。</li>
<li>数字签名：CA 使用自己的私钥对证书的其他内容进行签名，用于验证证书的完整性和真实性。</li>
<li>有效期：规定了证书的有效使用期限，超过有效期，证书将被视为无效</li>
</ul>
</li>
<li><p><strong>工作原理</strong> </p>
<h5 id="服务器证书的验证"><a href="#服务器证书的验证" class="headerlink" title="服务器证书的验证"></a>服务器证书的验证</h5><ol>
<li><strong>客户端发起请求</strong>： 客户端向服务器发送 HTTPS 请求，请求中包含客户端支持的加密算法和协议版本等信息。</li>
<li><strong>服务器响应证书</strong>：服务器收到请求后，将自己的数字证书发送给客户端。该证书包含服务器的公钥、证书颁发机构（CA）的信息、数字签名等内容。  </li>
<li><strong>客户端验证证书</strong>：客户端收到证书后，首先检查证书的格式是否正确，然后使用内置的 CA 根证书公钥来验证证书上 CA 的数字签名。如果签名验证通过，说明证书是由可信的 CA 颁发的，且证书内容未被篡改。接着，客户端检查证书的有效期、服务器的域名是否与证书中的域名匹配等。若所有检查都通过，客户端就认为服务器的身份是可信的。</li>
</ol>
<h5 id="密钥交换与加密通信"><a href="#密钥交换与加密通信" class="headerlink" title="密钥交换与加密通信"></a>密钥交换与加密通信</h5><ol>
<li><strong>生成会话密钥</strong>： 客户端向服务器发送 HTTPS 请求，请求中包含客户端支持的加密算法和协议版本等信息。</li>
<li><strong>服务器解密会话密钥</strong>：服务器收到加密的会话密钥后，使用自己的私钥进行解密，得到会话密钥。</li>
<li><strong>对称加密通信</strong>：双方使用会话密钥通过对称加密算法对通信数据进行加密和解密。这样，在保证数据传输安全的同时，利用对称加密的高效性来处理大量数据。</li>
</ol>
</li>
</ul>
<p> <strong>数据完整性保护和验证数字证书的真实性</strong></p>
<p> 数字证书主要通过数字签名技术和哈希算法来保证数据的完整性</p>
<ul>
<li><p><strong>数字签名技术</strong>：数字证书中包含证书颁发机构（CA）的数字签名。CA 使用自己的私钥对证书中的相关信息，如证书持有者的身份信息、公钥等进行签名。当用户收到数字证书时，可使用 CA 的公钥来验证数字签名。如果签名验证通过，说明证书内容在传输过程中未被篡改，因为若有人篡改了证书内容，那么用 CA 公钥验证签名时就会失败，从而保证了数字证书本身的完整性和真实性。</p>
</li>
<li><p><strong>哈希算法</strong>:在数据传输过程中，发送方会使用哈希算法对要传输的数据进行计算，生成一个固定长度的哈希值，这个哈希值就像是数据的 “指纹”。然后，发送方会将数据和哈希值一起发送给接收方。接收方收到数据后，会使用相同的哈希算法对收到的数据进行计算，得到一个新的哈希值。接着，接收方将新计算出的哈希值与发送方发送过来的哈希值进行对比。如果两个哈希值相同，就可以认为数据在传输过程中没有被修改，保证了数据的完整性；如果两个哈希值不同，那就说明数据在传输过程中被篡改过。</p>
<blockquote>
<p>此外，数字证书还通过在证书中明确指定证书的有效期、证书持有者的身份等信息，防止证书被冒用或滥用，进一步为数据完整性提供保障。因为只有在有效期内、由合法持有者使用的证书，才能保证相关数据的完整性和安全性。</p>
</blockquote>
</li>
</ul>
<p><strong>申请证书流程</strong>   </p>
<ul>
<li><p>准备工作   </p>
<ul>
<li>确定域名：明确需要申请数字证书的网站域名，确保该域名已完成注册且归申请人所有或申请人具有合法的使用权限。</li>
<li>服务器配置：保证服务器满足 HTTPS 相关要求，如具备支持 SSL&#x2F;TLS 协议的软件和硬件环境。通常需要在服务器上安装相应的 Web 服务器软件（如 Apache、Nginx 等），并进行初步的配置。</li>
</ul>
</li>
<li><p>选择合适的证书类型：HTTPS 证书主要分为单域名证书、多域名证书和通配符证书等。此外，根据安全等级的不同，还有 DV SSL 证书（域名验证）、OV SSL 证书（组织验证）和 EV SSL 证书（扩展验证）。需根据网站的需求和预算来选择。</p>
</li>
<li><p>选择证书颁发机构（CA）：证书颁发机构是负责验证和签发 HTTPS 证书的机构。常见的 CA 包括 Digicert、Globalsign 和 Sectigo 等。选择时要考虑其信誉、客户服务以及支持的证书类型。</p>
</li>
<li><p>生成证书签名请求（CSR）：CSR 是一段包含服务器和域名信息的加密文本。可使用 openssl 工具或服务器控制面板来生成，生成过程中会产生公钥和私钥，公钥包含在 CSR 中，私钥需妥善保存在服务器上。  </p>
<ul>
<li>CSR文件的创建<ul>
<li><p>在线（不建议）</p>
</li>
<li><p>本地创建</p>
<ol>
<li><code>openssl version</code> 获取openssl版本</li>
<li>创建密钥<br> &gt; 加密算法：<br>     RSA：目前最广泛使用的加密算法<br>     DSA: 由于安全原因已经不推荐使用<br>     ECDSA：目前仍未被广泛使用<br>     EdDSA：目前仍未被广泛使用<br> &gt;密钥大小：<br>     用于指定密钥的大小，密钥越大越安全，加密时间越长，对于RSA加密，确保密钥长度为2048位<br> &gt; 密钥密码（可选）：<br>     为创建的密钥指定一个密码，来进一步保护密钥安全性，但同时也带来了一些密钥使用的复杂性<br><br> 使用genpkey指令<br><br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">        openssl genpkey -algorithm RSA -out private_key.pem -pkeyopt rsa_keygen_bits:2048</span><br><span class="line">    ```  </span><br><span class="line">    &gt;使用 genpkey 生成一个 2048 位的 RSA 私钥文件 private.key。</span><br><span class="line"></span><br><span class="line">这将在当前目录下创建一个名为private_key.pem的文件，其中包含你的私钥   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.创建证书签名请求（生成CSR）</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">            openssl req -new -key private.key -out certificate.csr</span><br></pre></td></tr></table></figure><blockquote>
<p>创建一个新的证书请求，使用 private.key 作为私钥，输出为 certificate.csr。<br> 在执行上述命令后，需要你提供一些信息，例如国家、州&#x2F;省、城市、组织名、组织单位等。例如：。<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Country Name (2 letter code) [AU]:CN #国家</span><br><span class="line">State or Province Name (full name) [Some-State]:Liao Ning #州/省市</span><br><span class="line">Locality Name (eg, city) []:Dalian #城市</span><br><span class="line">Organization Name (eg, company) [Internet Widgits Pty Ltd]:MyCompany #组织名</span><br><span class="line">Organizational Unit Name (eg, section) []:IT Department #部门</span><br><span class="line">Common Name (e.g. server FQDN or YOUR name) []:www.example.com #域名</span><br><span class="line">Email Address []:admin@example.com #邮箱</span><br><span class="line"></span><br></pre></td></tr></table></figure><br> 4. 创建自签名证书（可选）<br> 自签名证书一般用于测试或内部环境，不被公共信任，但可用于验证加密连接。<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -x509 -key private.key -out certificate.crt -days 365</span><br></pre></td></tr></table></figure><br>使用 req 生成自签名证书，-new 表示创建新请求，-x509 指明生成自签名证书，-key 指定私钥文件，-out 指定输出的证书文件名，-days 设置证书有效期为 365 天。</p>
</blockquote>
</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li><p>提交证书申请：通过 CA 的在线申请界面提交申请，填写组织信息、提供 CSR，并选择证书类型和期限。对于 EV 证书等一些类型，可能需要提供额外的公司文件和法律文件作为验证材料。<br>验证和颁发证书：CA 会对提交的域名和组织信息进行验证，方式包括电子邮件验证、DNS 验证和电话验证等。验证通过后，CA 将签发 HTTPS 证书并发送给申请者。</p>
</li>
<li><p>安装和配置证书：将证书文件和私钥文件上传到服务器，并配置服务器软件（如 Apache、Nginx）以启用 HTTPS 连接。配置完成后，通过浏览器访问网站，检查地址栏是否显示安全锁标志以及证书信息是否正确，以确认 HTTPS 数字证书是否成功安装并生效。</p>
</li>
</ul>
<h4 id="SSL-x2F-TLS握手过程"><a href="#SSL-x2F-TLS握手过程" class="headerlink" title="SSL&#x2F;TLS握手过程"></a>SSL&#x2F;TLS握手过程</h4><p>SSL&#x2F;TLS 握手过程是在客户端和服务器之间建立安全连接时发生的一系列步骤，用于协商加密算法、验证身份和交换密钥。</p>
<ol>
<li><p>客户端发起握手</p>
<ul>
<li>客户端向服务器发送一个 ClientHello 消息，其中包含客户端支持的 SSL&#x2F;TLS 版本、加密算法列表、压缩方法等信息，以及一个随机数 ClientRandom。</li>
</ul>
</li>
<li><p>服务器响应</p>
<ul>
<li>服务器收到 ClientHello 后，发送 ServerHello 消息作为响应。该消息包含服务器选择的 SSL&#x2F;TLS 版本、加密算法、压缩方法等，以及另一个随机数 ServerRandom。</li>
<li>接着，服务器发送 Certificate 消息，将自己的数字证书发送给客户端，证书中包含服务器的公钥以及相关的身份信息。如果服务器需要验证客户端的身份，还会发送 CertificateRequest 消息，要求客户端提供证书。</li>
<li>最后，服务器发送 ServerHelloDone 消息，表明服务器的握手参数发送完毕。</li>
</ul>
</li>
<li><p>客户端验证与密钥交换</p>
<ul>
<li>客户端收到服务器的消息后，首先验证服务器的数字证书是否有效，包括检查证书的颁发机构、有效期、是否被吊销等。如果证书无效，客户端将终止连接。</li>
<li>验证通过后，客户端生成一个预主密钥 Pre - Master - Secret，并用服务器证书中的公钥加密，通过 ClientKeyExchange 消息发送给服务器。</li>
<li>客户端还会根据之前交换的随机数和预主密钥，计算出会话密钥（主密钥 Master - Secret），用于后续的数据加密和解密。同时，客户端发送 ChangeCipherSpec 消息，告知服务器后续的通信将使用新协商的加密算法和密钥。然后，客户端使用新的密钥发送一个 Finished 消息，该消息包含了之前所有握手消息的摘要，用于验证握手过程的完整性。</li>
</ul>
</li>
<li><p>服务器密钥交换与响应</p>
<ul>
<li>服务器收到 ClientKeyExchange 消息后，使用自己的私钥解密得到预主密钥，然后与客户端一样根据随机数和预主密钥计算出会话密钥。</li>
<li>服务器发送 ChangeCipherSpec 消息，表明将切换到新的加密算法和密钥进行通信。接着，服务器也发送一个 Finished 消息，包含之前握手消息的摘要，用于让客户端验证服务器的身份和握手过程的完整性。<br>至此，SSL&#x2F;TLS 握手完成，客户端和服务器可以使用协商好的会话密钥进行安全的数据传输。</li>
</ul>
<p> SSL&#x2F;TLS握手过程<br> <img src="https://thumbsnap.com/i/8eZMewML.png"></p>
</li>
</ol>
<blockquote>
<p>私钥虽然不能加密，但是可以签名：<br>公钥加密，私钥解密。<br>私钥签名，公钥验签。</p>
</blockquote>
</article><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/blog/blogs/Tcp%E5%92%8CUdp%E5%8D%8F%E8%AE%AE.html" title="Tcp和Udp协议"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Tcp和Udp协议</div></div></a></div><div class="next-post pull-right"><a href="/blog/blogs/git%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C.html" title="git常用操作"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">git常用操作</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/blog/images/tx.png" onerror="this.onerror=null;this.src='/blog/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">偏爱吖</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/blog/archives/"><div class="headline">Articles</div><div class="length-num">18</div></a><a href="/blog/tags/"><div class="headline">Tags</div><div class="length-num">6</div></a><a href="/blog/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.</span> <span class="toc-text">HTTP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http-%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">http 请求方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#post%E8%AF%B7%E6%B1%82%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.</span> <span class="toc-text">post请求格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#post%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.2.</span> <span class="toc-text">post请求示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#post%E8%AF%B7%E6%B1%82%E4%BD%93%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.3.</span> <span class="toc-text">post请求体格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#http%E4%B8%8D%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-number">2.4.</span> <span class="toc-text">http不安全性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTPS%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.</span> <span class="toc-text">HTTPS协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86"><span class="toc-number">3.1.</span> <span class="toc-text">对称加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86"><span class="toc-number">3.2.</span> <span class="toc-text">非对称加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6"><span class="toc-number">3.3.</span> <span class="toc-text">数字证书</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AF%81%E4%B9%A6%E7%9A%84%E9%AA%8C%E8%AF%81"><span class="toc-number">3.3.1.</span> <span class="toc-text">服务器证书的验证</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%86%E9%92%A5%E4%BA%A4%E6%8D%A2%E4%B8%8E%E5%8A%A0%E5%AF%86%E9%80%9A%E4%BF%A1"><span class="toc-number">3.3.2.</span> <span class="toc-text">密钥交换与加密通信</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSL-x2F-TLS%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B"><span class="toc-number">3.4.</span> <span class="toc-text">SSL&#x2F;TLS握手过程</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/blogs/ssh.html" title="ssh">ssh</a><time datetime="2025-06-11T07:13:41.000Z" title="Created 2025-06-11 15:13:41">2025-06-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/blogs/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC.html" title="侧耳倾听">侧耳倾听</a><time datetime="2025-06-09T07:36:11.000Z" title="Created 2025-06-09 15:36:11">2025-06-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/blogs/promise.html" title="promise">promise</a><time datetime="2025-06-09T06:23:47.000Z" title="Created 2025-06-09 14:23:47">2025-06-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/blogs/fetchAPI.html" title="fetchAPI">fetchAPI</a><time datetime="2025-06-09T06:23:33.000Z" title="Created 2025-06-09 14:23:33">2025-06-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/blogs/Cloudflare%E4%B8%8B%E9%85%8D%E7%BD%AEDDNS.html" title="Cloudflare下配置DDNS">Cloudflare下配置DDNS</a><time datetime="2025-05-16T11:15:20.000Z" title="Created 2025-05-16 19:15:20">2025-05-16</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/blog/images/footer.png')"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2025 By 偏爱吖</div><div class="footer_custom_text">You shine like the stars | You light up my heart<div>京ICP备2020036654号-9</div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="8240426399" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-lrctype="1"> </div><script src="/blog/js/bg.js"></script><link rel="stylesheet" href="https://unpkg.com/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/aplayer/dist/APlayer.min.js"></script><script src="https://unpkg.com/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://unpkg.com/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/blog/js/search/local-search.js"></script></div></div><script src="/blog/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/blog/live2dw/assets/hibiki.model.json"},"display":{"position":"right","width":150,"height":350},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body></html>